<section class="overflow-hidden text-gray-600 body-font">
    <div class="container px-5 py-5 mx-auto">

        @if (model().id != "") {

        <form [formGroup]="myForm" (ngSubmit)="createOrder()">
            <div class="grid grid-cols-8 gap-4">

                @if ((model().total_messages || 0) >= 1) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 1
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="first_message"
                            [ngClass]="(formControlIsInitial('first_message') || formControlIsValid('first_message')) ? 'border-gray-400' : 'border-red-500'">
                        @if (isValid('first_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 1 es obligatorio</div>
                        </div>
                        }
                        @if (isValid('first_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 1 debe tener máximo 20 caracteres</div>
                        </div>
                        }
                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 2) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje 2
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 2
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="second_message"
                            [ngClass]="(formControlIsInitial('second_message') || formControlIsValid('second_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('second_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 2 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('second_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 2 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 3) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 3
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="third_message"
                            [ngClass]="(formControlIsInitial('third_message') || formControlIsValid('third_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('third_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 3 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('third_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 3 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 4) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 4
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="fourth_message"
                            [ngClass]="(formControlIsInitial('fourth_message') || formControlIsValid('fourth_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('fourth_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 4 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('fourth_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 4 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 5) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 5
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="fifth_message"
                            [ngClass]="(formControlIsInitial('fifth_message') || formControlIsValid('fifth_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('fifth_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 5 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('fifth_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 5 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 6) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 6
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="sixth_message"
                            [ngClass]="(formControlIsInitial('sixth_message') || formControlIsValid('sixth_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('sixth_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 6 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('sixth_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 6 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 7) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 7
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="seventh_message"
                            [ngClass]="(formControlIsInitial('seventh_message') || formControlIsValid('seventh_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('seventh_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 7 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('seventh_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 7 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_messages || 0) >= 8) {
                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Mensaje de Bienvenida
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5 flex flex-wrap -mx-3">
                    <div class="w-full px-3 md:mb-0">
                        <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                            Mensaje Nro 8
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            type="text" formControlName="eighth_message"
                            [ngClass]="(formControlIsInitial('eighth_message') || formControlIsValid('eighth_message')) ? 'border-gray-400' : 'border-red-500'">

                        @if (isValid('eighth_message', 'required')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 8 es obligatorio</div>
                        </div>
                        }

                        @if (isValid('eighth_message', 'maxlength')) {
                        <div class="text-xs text-red-500">
                            <div>El Mensaje Nro 8 debe tener máximo 20 caracteres</div>
                        </div>
                        }

                    </div>
                </div>
                }

                @if ((model().total_images ?? 0) >= 1) {

                <div class="col-span-3">
                    <label class="block tracking-wide text-gray-700 text-xs font-bold mb-2">
                        Imagen Nro 1
                    </label>
                    <label class="block tracking-wide text-gray-700 text-xs mb-2">
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
                        laboris nisi ut aliquip ex ea commodo consequat.
                    </label>
                </div>
                <div class="col-span-5">
                    <label for="cover-photo" class="block text-sm font-medium leading-6 text-gray-900">
                        Imagen Nro 1</label>

                    @if (preview==''){
                    <div class="mt-2 flex justify-center rounded-lg border border-dashed border-gray-400 px-6 py-10"
                        [ngClass]="{
                            'border-gray-400': (formControlIsInitial('first_image') || formControlIsValid('first_image')), 
                            'border-red-500': !(formControlIsInitial('first_image') || formControlIsValid('first_image')),
                            'bg-gray-200': cssisDragOver,
                            'bg-white-500': !cssisDragOver,
                        }" (drop)="onDrop($event)" (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)">
                        <div class="text-center">
                            <svg class="mx-auto h-12 w-12 text-gray-300" viewBox="0 0 24 24" fill="currentColor"
                                aria-hidden="true">
                                <path fill-rule="evenodd"
                                    d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z"
                                    clip-rule="evenodd" />
                            </svg>
                            <div class="mt-4 flex text-sm leading-6 text-gray-600">
                                <label for="file-upload"
                                    class="relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500">
                                    <span>Cargar una imagen</span>
                                    <input type="file" class="sr-only" accept="image/png, image/gif, image/jpeg"
                                        (change)="selectFirstFile($event)">
                                </label>
                                <p class="pl-1">o arrastrar y soltar</p>
                            </div>
                            <p class="text-xs leading-5 text-gray-600">PNG, JPG, GIF hasta 2MB</p>
                        </div>
                    </div>
                    @if (isValid('first_image', 'required') && !messageType && !messageSize) {
                    <div class="text-xs text-red-500">
                        <div>La Imagen Nro 1 es obligatorio</div>
                    </div>
                    }
                    @if (messageType) {
                    <div class="text-xs text-red-500">
                        <div>La imagen debe ser en formato .png, .jpg, .jpeg o .gif</div>
                    </div>
                    }
                    @if (messageSize) {
                    <div class="text-xs text-red-500">
                        <div>La imagen debe ser menor a 2MB</div>
                    </div>
                    }
                    }
                    @else{
                    <div>
                        <img [src]="preview" class="preview" />
                        <button type="submit"
                            class="mt-1 px-2 py-1 ml-auto text-xs text-white bg-orange-500 rounded hover:bg-orange-700"
                            (click)="changeFirstImage()">
                            Cambiar Imagen
                        </button>
                    </div>
                    }

                </div>
                }

                <div class="col-span-3 mb-5">
                </div>
                <div class="col-span-5">
                    <re-captcha (resolved)="checkCaptcha($event)" formControlName="recaptchaReactive"></re-captcha>
                    @if (isValid('recaptchaReactive', 'required')) {
                    <div class="text-xs text-red-500">
                        <div>No soy un robot es obligatorio</div>
                    </div>
                    }
                </div>
                <div class="col-span-3 mb-5">
                </div>
                <div class="col-span-5">
                    <button type="submit"
                        class="px-2 py-1 ml-auto text-white bg-orange-500 rounded hover:bg-orange-700">
                        Crear Invitación
                    </button>
                </div>
            </div>
        </form>

        }

    </div>
</section>